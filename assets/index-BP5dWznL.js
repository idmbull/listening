const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dictation-app-DMzuMWP9.js","assets/drag-drop-CVudGZn6.js","assets/app-DIvLWumF.js"])))=>i.map(i=>d[i]);
(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))f(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&f(s)}).observe(document,{childList:!0,subtree:!0});function g(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function f(r){if(r.ep)return;r.ep=!0;const o=g(r);fetch(r.href,o)}})();const w="modulepreload",E=function(e){return"/listening/"+e},p={},h=function(i,g,f){let r=Promise.resolve();if(g&&g.length>0){let v=function(a){return Promise.all(a.map(u=>Promise.resolve(u).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");r=v(g.map(a=>{if(a=E(a),a in p)return;p[a]=!0;const u=a.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${m}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":w,u||(d.as="script"),d.crossOrigin="",d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((y,T)=>{d.addEventListener("load",y),d.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return r.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return i().catch(o)})},t=e=>document.querySelector(e),c={get headerTitle(){return t("header h1")},get headerSubtitle(){return t("header .subtitle")},get textDisplay(){return t("#textDisplay")},get textContainer(){return t("#textContainer")},get textInput(){return t("#textInput")},get actionToggle(){return t("#actionToggle")},get actionLabel(){return t("#actionLabel")},get soundToggle(){return t("#soundToggle")},get autoPronounceToggle(){return t("#autoPronounceToggle")},get autoTooltipToggle(){return t("#autoTooltipToggle")},get blindModeToggle(){return t("#blindModeToggle")},get themeSelect(){return t("#themeSelect")},get volumeControl(){return t(".mini-volume-control")},get volumeInput(){return t("#dictationVolume")},get fileLoader(){return t("#fileLoader")},get fileLoaderBtn(){return t("#fileLoaderBtn")},get playlistSelect(){return t("#playlist")},get difficultySelect(){return t("#difficulty")},get modeSwitchBtn(){return t("#modeSwitchBtn")},get accuracyEl(){return t("#accuracy")},get wpmEl(){return t("#wpm")},get timeEl(){return t("#time")},get errorsEl(){return t("#errors")},get globalTooltip(){return t("#globalTooltip")},get dictationModal(){return t("#dictationModal")},get dictationBtn(){return t("#fileLoaderBtn")},get dictationSubInput(){return t("#dictationSubInput")},get dictationAudioInput(){return t("#dictationAudioInput")},get dictationBlindMode(){return t("#dictationBlindMode")},get dictationStartBtn(){return t("#dictationStartBtn")},get dictationCancelBtn(){return t("#dictationCancelBtn")},get dictationReplayBtn(){return t("#dictationReplayBtn")}};function L(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e),c.themeSelect&&(c.themeSelect.value=e);const i=new CustomEvent("theme:changed",{detail:e});document.dispatchEvent(i)}function I(){const e=localStorage.getItem("theme")||"light";L(e)}const b={mode:"reading",isActive:!1,blindMode:!1,source:{text:"",html:"",segments:[],charStarts:[],currentSegment:0,audioUrl:null,hasAudio:!1},textSpans:[],wordTokens:[],wordStarts:[],startTime:null,statTotalKeys:0,statCorrectKeys:0,statErrors:0,prevInputLen:0,prevIndex:0};let n=JSON.parse(JSON.stringify(b));const x={getState:()=>n,getSource:()=>n.source,getMode:()=>n.mode,isBlind:()=>n.blindMode,setMode(e){n.mode=e},setBlindMode(e){n.blindMode=e},setSource(e){n.source={...n.source,...e,currentSegment:0},n.textSpans=[],n.wordTokens=[],n.wordStarts=[]},reset(){n.isActive=!1,n.startTime=null,n.statTotalKeys=0,n.statCorrectKeys=0,n.statErrors=0,n.prevInputLen=0,n.prevIndex=0,n.source.currentSegment=0},startExercise(){n.isActive=!0,n.startTime=Date.now()},stopExercise(){n.isActive=!1},setSpans(e){n.textSpans=e},setWordMetadata(e,i){n.wordTokens=e,n.wordStarts=i},setCurrentSegment(e){n.source.currentSegment=e},setPrevIndex(e){n.prevIndex=e},setPrevInputLen(e){n.prevInputLen=e},addStats(e){n.statTotalKeys++,e?n.statCorrectKeys++:n.statErrors++}},M=new URLSearchParams(window.location.search),S=M.get("mode")||"reading";x.setMode(S);function B(e){e==="dictation"?(document.title="Idm Dictation",c.headerTitle.textContent="Dictation Practice",c.headerSubtitle.textContent="Nghe ká»¹ - GÃµ chÃ­nh xÃ¡c",c.volumeControl.classList.remove("hidden"),c.modeSwitchBtn.textContent="ðŸ“– Go to Reading",c.modeSwitchBtn.onclick=()=>{window.location.search="?mode=reading"},h(()=>import("./dictation-app-DMzuMWP9.js"),__vite__mapDeps([0,1])).then(i=>{i.initDictationMode()})):(document.title="Idm Typing",c.volumeControl.classList.add("hidden"),c.difficultySelect.classList.remove("hidden"),c.modeSwitchBtn.textContent="ðŸŽ§ Go to Dictation",c.modeSwitchBtn.onclick=()=>{window.location.search="?mode=dictation"},h(()=>import("./app-DIvLWumF.js"),__vite__mapDeps([2,1])).then(i=>{i.initReadingMode()}))}document.addEventListener("DOMContentLoaded",()=>{I(),B(S)});export{c as D,x as S,I as i,L as s};
